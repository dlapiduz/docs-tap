# Release notes

This topic contains release notes for Tanzu Application Platform v1.5.

## <a id='1-5-0'></a> v1.5.0

**Release Date**: 11 April 2023

### <a id='1-5-0-whats-new'></a> What's new in Tanzu Application Platform

This release includes the following platform-wide enhancements.

#### <a id='1-5-0-new-platform-features'></a> New platform-wide features

-

#### <a id='1-5-0-new-components'></a> New components

- [Application Configuration Service](application-configuration-service/about.hbs.md) is a new component
  that provides a Kubernetes-native experience to enable the runtime
  configuration of existing Spring applications that were previously leveraged by using
  Spring Cloud Config Server.

- [Crossplane](crossplane/about.hbs.md) is a new component that powers a number of capabilities,
  such as dynamic provisioning of service instances with Services Toolkit and the
  pre-installed Bitnami Services. It is part of the iterate, run, and full profiles.

- [Bitnami Services](bitnami-services/about.hbs.md) is a new component that includes a set of
  backing services for Tanzu Application Platform.
  The provided services are MySQL, PostgreSQL, RabbitMQ and Redis, all of which are backed by
  the corresponding Bitnami Helm Chart. It is part of the iterate, run, and full profiles.

- [Spring Cloud Gateway](spring-cloud-gateway/about.hbs.md) is an API gateway solution based on
  the open-source Spring Cloud Gateway project.
  This new component provides a simple means to route internal or external API requests
  to application services that expose APIs.

### <a id='1-5-0-new-features'></a> New features by component and area

This release includes the following changes, listed by component and area.

#### <a id='1-5-0-app-acc-features'></a> Application Accelerator

- The Application Accelerator plug-in for IntelliJ is now available as a beta release on
  [Tanzu Network](https://network.tanzu.vmware.com/products/tanzu-application-platform/).

- Adds the option to support Spring Boot v3.0 for the
  [Tanzu Java Restful Web App](https://github.com/vmware-tanzu/application-accelerator-samples/tree/main/java-rest-service)
  and [Tanzu Java Web App](https://github.com/vmware-tanzu/application-accelerator-samples/tree/main/tanzu-java-web-app) accelerators.

- Application Accelerator now generates application bootstrapping provenance when a project is created using an accelerator. For more information, see [Provenance transform](application-accelerator/creating-accelerators/transforms/provenance.hbs.md).

- Adds the option to use a system-wide property in the `tap-values.yaml` configuration file to activate or
  deactivate Git repository creation. For more information, see [Deactivate Git repository creation](tap-gui/plugins/application-accelerator-git-repo.hbs.md#deactiv-git-repo-creation).

- The Accelerator Tanzu CLI plug-in now supports using the Tanzu Application Platform GUI URL
  with the `--server-url` command option.
  For more information, see [Using Tanzu Application Platform GUI URL](cli-plugins/accelerator/overview.html#server-api-connections-for-operators-and-developers-0)

#### <a id='1-5-0-app-sso-features'></a> Application Single Sign-On (AppSSO)

- Introduces `AuthServer` CORS API that enables configuration of allowed HTTP origins.
  This is useful for public clients, such as single-page apps.

- Introduces an API for filtering external roles, groups, and memberships across OpenID, LDAP, and SAML
  identity providers in `AuthServer` resource into the `roles` claim of the resulting identity
  token. For more information, see [Roles claim filtering](app-sso/service-operators/identity-providers.hbs.md#roles-filters).

- Introduces mapping of user roles, filtered and propagated in the identity
  token's `roles` claim, into scopes of the access token.
  For access tokens that are in the JWT format, the resulting scopes are part of the access token's
  `scope` claim, if the `ClientRegistration` contains the scopes.
  For more information, see [Configure authorization](app-sso/service-operators/configure-authorization.hbs.md).

- Introduces default access token scopes for user's authentication by using an identity
  provider. For more information, see [Default authorization scopes](app-sso/service-operators/configure-authorization.hbs.md#default-scopes).

- Introduces standardized client authentication methods to `ClientRegistration` custom resource.
  For more information, see [ClientRegistration](app-sso/crds/clientregistration.hbs.md).

#### <a id='1-5-0-bitnami-services-features'></a> Bitnami Services

- The new component [Bitnami Services](bitnami-services/about.hbs.md) is available with
  Tanzu Application Platform.

- Provides integration for dynamic provisioning of Bitnami Helm Charts included with
  Tanzu Application Platform for the following backing services:
   - PostgreSQL
   - MySQL
   - Redis
   - RabbitMQ

   For a tutorial to get started with using these services, see [Working with Bitnami Services](services-toolkit/tutorials/working-with-bitnami-services.hbs.md).


#### <a id='1-5-0-cert-manager-ncf'></a> cert-manager

- `cert-manager.tanzu.vmware.com` has upgraded to cert-manager v1.11.0.
  For more information, see [cert-manager GitHub repository](https://github.com/cert-manager/cert-manager/releases/tag/v1.11.0).

#### <a id='1-5-0-crossplane-features'></a> Crossplane

- The new component [Crossplane](crossplane/about.hbs.md) is available with Tanzu Application Platform.
  It installs [Upbound Universal Crossplane](https://github.com/upbound/universal-crossplane) v1.11.0.

- Provides integration for dynamic provisioning in Services Toolkit and can be used for
  integration with cloud services such as AWS, Azure, and GCP.
  For more information, see
  [Integrating cloud services into Tanzu Application Platform](services-toolkit/tutorials/integrate-cloud-services.hbs.md).

  For more information about dynamic provisioning, see
  [Set up dynamic provisioning of service instances](services-toolkit/tutorials/setup-dynamic-provisioning.hbs.md) to learn more.

- Includes two Crossplane [Providers](https://docs.crossplane.io/v1.9/concepts/providers/):
  `provider-kubernetes` and `provider-helm`.
  You can add other providers manually as required.

#### <a id='1-5-0-external-secrets-features'></a>External Secrets CLI (Beta)

- The external-secrets plug-in available in the Tanzu CLI interacts with the External Secrets Operator API.
  Users can use this CLI plug-in to create and view External Secrets Operator resources on a Kubernetes cluster.

   For more information about managing secrets with External Secrets in general, see the official [External Secrets Operator documentation](https://external-secrets.io).
   For installing the External Secrets Operator and the CLI plug-in, see the following documentation.

   - [Installing External Secrets Operator in TAP](external-secrets/install-external-secrets-operator.hbs.md)
   - [Installing External Secrets CLI plug-in](prerequisites.hbs.md)
   - [External-Secrets with Hashicorp Vault](external-secrets/vault-example.md)

   Additionally, see the example integration of External-Secrets with Hashicorp Vault

#### <a id="1-5-namespace-provisioner-feats"></a> Namespace Provisioner

- Includes a new GitOps workflow for managing a list of namespaces fully declaratively
  through a Git repository. Specify the location of GitOps repository that has the list of namespaces
  that you want as `ytt data values` to be imported in the namespace provisioner using the `gitops_install` `tap-values.yaml` configuration.

   For more information, see the GitOps section in
   [Provision developer namespaces](namespace-provisioner/provision-developer-ns.md).

- The Namespace Provisioner controller supports adding namespace parameters from labels or annotations
  on namespace objects based on accepted prefixes defined in the `parameter_prefixes` configuration in the `tap-values.yaml`.
  You can use this feature to add custom parameters to a namespace for creating resources conditionally.

   For an example, see
   [Create Tekton pipelines and Scan policies using namespace parameters](namespace-provisioner/use-case2.md).

- Adds support for importing Kubernetes secrets that contains a `ytt overlay` definition that you can apply
  to the resources created by Namespace Provisioner.

   Using the `overlays_secret` configuration in namespace provisioner`tap-values.yaml`,
   users can provide a list of secrets that contains the overlay definition they want to apply
   to resources created by provisioner.

   For an example of using overlays, see
   [Customize OOTB default resources](namespace-provisioner/use-case4.md).

- Adds support for reading sensitive data from a Kubernetes secret in YAML format and populating that
  information in the resources created by namespace provisioner in runtime and keep it in sync with
  the source, thereby removing the need to<!--฿ |must| is preferred or, better, rephrase as an imperative. ฿--> store any sensitive data in GitOps repository.
  - Using the `import_data_values_secrets` configuration in namespace provisioner TAP<!--฿ |Tanzu Application Platform| is preferred. ฿--> values, you can
   import sensitive data from a YAML formatted secret and make it available under `data.values.imported` for additional resource templating.
  - For an example use case<!--฿ Just |use| is probably better here; avoid the nounification of verbs. ฿-->, refer to<!--฿ If telling the reader to read something else, use |see|. ฿--> the documentation on<!--฿ If x-referencing, go with the cleaner |See LINK.| or |For more information about TOPIC, see LINK.| ฿--> how to
    [Install multiple scanners in the developer namespace](./namespace-provisioner/use-case5.md).

- Namespace Provisioner now creates a Kubernetes `LimitRange` object with sensible<!--฿ There is a probably a clearer synonym to use here, such as |expected|, |acceptable|, or |valid|. ฿--> defaults<!--฿ |by default| is usually better. ฿--> which sets
  max<!--฿ |maximum| is preferred. ฿--> limits on how much resource pods in the managed namespace can request.
  - Run profile: Stamped by default.
  - Full &<!--฿ |and| is preferred. ฿--> Iterate profile: Opt-in using parameters.
    - Refer to<!--฿ If telling the reader to read somewhere else, use |See|. ฿--> the [Customize OOTB Limit Range default](./namespace-provisioner/use-case4.md#customize-limit-range-defaults) documentation for sample configuration.

- Namespaces provisioner enabled users to use private git<!--฿ |Git| is the preferred casing. ฿--> repositories for storing their GitOps based
  installation files as well as<!--฿ |and| is preferred. ฿--> additional platform operator templated resources that they want to create
  in their developer namespace. Authentication is provided using a secret in `tap-namespace-provisioning`
  namespace, or an existing secret in another namespace referred to in the `secretRef` in the additional sources.
  - For an example use case<!--฿ Just |use| is probably better here; avoid the nounification of verbs. ฿-->, refer to<!--฿ If telling the reader to read something else, use |see|. ฿--> the documentation on<!--฿ If x-referencing, go with the cleaner |See LINK.| or |For more information about TOPIC, see LINK.| ฿--> [Working with private Git Repositories](./namespace-provisioner/use-case3.md)

#### <a id='1-5-0-services-toolkit-features'></a> Services Toolkit

- Services Toolkit now supports the dynamic provisioning of services instances.
  - `ClusterInstanceClass` now supports the new provisioner mode.
  When a `ClassClaim` is created which refers to a provisioner `ClusterInstanceClass`, a new
  service instance is created on-demand and claimed. This is powered by [Crossplane](crossplane/about.hbs.md).

- The `tanzu service` CLI plug-in has the following updates:
   - The command `tanzu service class-claim create`  now allows you to pass parameters to the
   provisioner-based `ClusterInstanceClass` to support dynamic provisioning.
   For example,
   `tanzu service class-claim create rmq-claim-1 --class rmq --parameter replicas=3  --parameter ha=true`
   - The `tanzu service class-claim get` now outputs parameters passed as part of claim creation.

   For more information about these commands, see [Tanzu Service CLI Plug-In](services-toolkit/reference/tanzu-service-cli.hbs.md#stk-cli-class-claim).

- Integrates with the new component [Bitnami Services](bitnami-services/about.hbs.md),
  which provides pre-installed dynamic provisioning support for the following Helm charts:
   - PostgreSQL
   - MySQL
   - Redis
   - RabbitMQ

- Improves the security model to control which users can claim specific service instances.
   - Introduced the `claim` custom RBAC verb that targets a specific `ClusterInstanceClass`.
   You can bind this to users for access control of who can create `ClassClaim` resources for
   a specific `ClusterInstanceClass`.
   - A `ResourceClaimPolicy` is now created automatically for successful `ClassClaims`.

   For more information, see [Authorize users and groups to claim from provisioner-based classes](services-toolkit/how-to-guides/authorize-claim-provisioner-classes.hbs.md) to learn more.

- The `ResourceClaimPolicy` now supports targeting individual resources by name.
  To do so, configure `.spec.subject.resourceNames`.

- The `Where-For-Dinner` sample Application Accelerator now supports dynamic provisioning.

- Changes to the Services Toolkit component documentation.
   - The [standalone Services Toolkit documentation](https://docs.vmware.com/en/Services-Toolkit-for-VMware-Tanzu-Application-Platform/index.html)
   is no longer receiving updates.
   From now on you can find all Services Toolkit documentation in the Tanzu Application Platform
   component documentation section for [Services Toolkit](services-toolkit/about.hbs.md).
   - To learn more about working with services on Tanzu Application Platform, see the new
   [tutorials](services-toolkit/tutorials/index.hbs.md),
   [how-to guides](services-toolkit/how-to-guides/index.hbs.md),
   [concepts](services-toolkit/concepts/index.hbs.md), and
   [reference material](services-toolkit/reference/index.hbs.md).

#### <a id='1-5-0-scc-features'></a> Supply Chain Choreographer

- Introduces a variation of the Out of the Box Basic supply chains that output Carvel packages.
  Carvel packages enable configuring for each runtime environment.
  For more information, see [Carvel Package Workflow](scc/carvel-package-supply-chain.hbs.md).
  This feature is experimental.

#### <a id='1-5-0-scst-policy-features'></a> Supply Chain Security Tools (SCST) - Policy Controller

- ClusterImagePolicy resync is triggered every 10 hours to get updated values from the Key Management Service (KMS).

#### <a id="1-5-0-scst-scan-features"></a> Supply Chain Security Tools (SCST) - Scan

- SCST - Scan now runs on Tanzu Service Mesh-enabled clusters, enabling end to end, secure communication.
  - Kubernetes Jobs that previously created the scan pods were replaced with [Tekton TaskRuns](https://tekton.dev/docs/pipelines/taskruns/#overview).
  - [Observability](./scst-scan/observing.hbs.md) and [Troubleshooting](./scst-scan/troubleshoot-scan.hbs.md) documentation is updated to account for the impact of these changes. One restart in scanner pods is expected<!--฿ Consider replacing with |in most cases| to sound more confident. ฿--> with successful scans. See [Scanner Pod restarts once in SCST - Scan `v1.5.0` or later](./scst-scan/troubleshoot-scan.hbs.md#scanner-pod-restarts)<!--฿ Do not use backticks in link names. ฿-->.

- Adds support for rotating certificates and TLS, to conform with NIST 800-53.
  - Users can specify a TLS certificate, minimum TLS version, and restrict TLS ciphers when using kube-rbac-proxy. See [Configure properties](./scst-scan/install-scst-scan.hbs.md#configure-scst-scan).

- SCST<!--฿ Enclose placeholders in code tags. ฿--> - Scan now offers even more flexibility for users to use their existing investments in scanning solutions. In Tanzu Application Platform `v1.5.0`, users have early access to:
  - A new alpha integration with the [Trivy Open Source Vulnerability Scanner](https://www.aquasec.com/products/trivy/) by Aqua Security scans source code and images from secure supply chains. See [Install Trivy (alpha)](./scst-scan/install-trivy-integration.hbs.md).
  - A simplified alpha user experience for creating custom integrations with additional vulnerability scanners that aren't included by default. Got a scanner that you'd<!--฿ Avoid a contraction if it is too colloquial or awkward or uncommonly used. ฿--> like to use with Tanzu Application Platform? See [SCST - Scan 2.0 (alpha)](./scst-scan/app-scanning-alpha.hbs.md).
  - The Tanzu team is looking for early adopters to test drive both of these alpha offerings and provide feedback. Email your Tanzu representative or [contact us here](https://tanzu.vmware.com/application-platform).

- Carbon Black integration updates:
  - The scanner integration has been<!--฿ Consider changing to |is| or |has| or rewrite for active voice. ฿--> updated to use the Carbon Black scanner CLI version `1.9.2`
  - Notable optimizations include an improved scan logic that reduces the time it takes for a scan to complete.
  - Check<!--฿ |Verify|, |Ensure|, and |Confirm| are all preferred. ฿--> out the [Carbon Black Cloud Console Release Notes](https://docs.vmware.com/en/VMware-Carbon-Black-Cloud/services/rn/vmware-carbon-black-cloud-console-release-notes/index.html#What's%20New%20-%2012%20January%202023-Container%20Essentials) for more details or to learn about our other capabilities.

#### <a id='1-5-0-tap-gui-features'></a> Tanzu Application Platform GUI

- **Disclosure:** This upgrade includes a Java script operated by the service provider Pendo.io.
  The Java script is installed on selected pages of VMware software and collects information about
  your use of the software, such as clickstream data and page loads, hashed user ID, and limited
  browser and device information.
  This information is used to better understand the way you use the software to improve
  VMware products and services and your experience.
  For more information, see the
  [Customer Experience Improvement Program](https://www.vmware.com/solutions/trustvmware/ceip.html).

- Supports automatic configuration with SCST - Store. For more information,
  see [Automatically connect Tanzu Application Platform GUI to the Metadata Store](tap-gui/plugins/scc-tap-gui.hbs.md#scan-auto).

- Enables specification of security banners. To use this customization,
  see [Customize security banners](tap-gui/customize/customize-portal.hbs.md#cust-security-banners).

- Upgrades Backstage to v1.10.1.

- Includes an optional plug-in that collects telemetry by using the Pendo tool.
  To configure Pendo telemetry and opt in or opt out, see
  [Opt out of telemetry collection](../docs-tap/opting-out-telemetry.hbs.md).

#### <a id="tap-gui-plug-in-features"></a> Tanzu Application Platform GUI plug-ins

- **Supply Chain Plug-in:**
  - When `alvToken` has expired, the logic to fetch a new token and the API call are both retried.
  - Actions are deactivated and a message is displayed when sensitive operations are deactivated for
    the app.
  - The **Heap Dump** button deactivates when sensitive operations are deactivated for the application.
  - Enabled Secure Access Communication between App Live View components.
  - Added an API to connect to `appliveview-apiserver` by reusing `tap-gui` authentication.
  - The Application Live View plug-in now requests a token from `appliveview-apiserver` and passes it to every call to
    the Application Live View back end.
  - Secured sensitive operations (edit env, change log levels, download heap dump) and display a
    message in the UI.
  - Renamed the `k8s-logging-backend` plug-in as `k8s-custom-apis-backend`.
  - The fetch token for the `logLevelsPanelToggle` component is now loaded from the workload plug-in
    PodLogs page.

- **Security Analysis GUI Plug-in:**
  - **CVE Details:** Added Impacted Workloads widget to the CVE Details page.
  - **CVE Details:** Display and navigate to latest source SHA or image digest in the Workload Builds
    table.
  - **Package Details:** Added Impacted Workloads column to the Vulnerabilities table.
  - **Package Details:** Display and navigate to latest source SHA or image digest in the Workload
    Builds table.
  - **Security Analysis Dashboard:** Added Highest Reach Vulnerabilities widget.

#### <a id="1-5-apps-plugin-features"></a> Tanzu CLI Apps plug-in

- Adds support for `-ojson` and `-oyaml` output flags in `tanzu apps workload create/apply` command.
  The CLI does not wait to print workload when using `--output` in workload create/apply unless
  `--wait` or `--tail` flags are specified as well.

- Using the `--no-color` flag in `tanzu apps workload create/apply` commands now hides progress bars
  in addition to color output and emojis.

- Adds support for unsetting `--git-repo`, `--git-commit`, `--git-tag` and `--git-branch` flags
  by setting the value to empty string.

#### <a id='1-5-0-intellij-plugin-features'></a> Tanzu Developer Tools for IntelliJ

- Updates the Tanzu Workloads panel to show workloads deployed across multiple namespaces.

- Tanzu actions for `workload apply`, `workload delete`, `debug`, and `Live Update start` are now available
  from the Tanzu Workloads panel.

- You can use Tanzu Developer Tools for IntelliJ to iterate on Spring Boot 3 based applications.

#### <a id='1-5-0-vs-plugin-features'></a> Tanzu Developer Tools for Visual Studio

- Supports iterative development of applications consisting of multiple microservices, allowing developers to debug and live update each microservice independently and simultaneously.

- Enable pre-existing projects to work with Tanzu Application Platform Developer Tools easily by generating the necessary configuration files via templates.

#### <a id='1-5-0-vscode-plugin-features'></a> Tanzu Developer Tools for VS Code

- The Tanzu Activity tab in the Panels view enables developers to visualize the supply chain, delivery,
  and running application pods.

   The tab enables a developer to view and describe logs on each resource associated with a workload
   from within their IDE. The tab displays detailed error messages for each resource in an error state.

- Updates the Tanzu Workloads panel to show workloads deployed across multiple namespaces.

- Tanzu commands for `workload apply`, `workload delete`, `debug`, and `Live Update start` are now available
  from the Tanzu Workloads panel.

- You can use Tanzu Developer Tools for VS Code to iterate on Spring Boot 3 based applications.

---

### <a id='1-5-0-breaking-changes'></a> Breaking changes

This release has the following breaking changes, listed by area and component.

#### <a id='1-5-convention-controller-bc'></a> Convention Controller

- Convention Controller is removed in this release and is replaced by
  [Cartographer Conventions](https://github.com/vmware-tanzu/cartographer-conventions).
  Cartographer Conventions implements the `conventions.carto.run` API that includes all the features
  that were available in the Convention Controller component.

#### <a id="1-5-scst-scan-bc"></a> Supply Chain Security Tools (SCST) - Scan

- The deprecated Grype ScanTemplates included with Tanzu Application Platform v1.2.0 and earlier are removed
  and no longer supported. Use Grype ScanTemplates v1.2 and later.

#### <a id='1-5-0-tbs-bc'></a> Tanzu Build Service

- The default `ClusterBuilder` now uses the Ubuntu Jammy v22.04 stack instead of the Ubuntu Bionic
  v18.04 stack. Previously, the default `ClusterBuilder` pointed to the Base builder based on the
  Bionic stack. Now, the default `ClusterBuilder` points to the Base builder based on the Jammy stack.
  Ensure that your workloads can be built and run on Jammy.

   For information about how to change the `ClusterBuilder` from the default builder, see the
   [Configure the Cluster Builder](tanzu-build-service/tbs-workload-config.hbs.md#cluster-builder).

   For more information about available builders, see
   [Lite Dependencies](../docs-tap/tanzu-build-service/dependencies.hbs.md#lite-dependencies) and
   [Full Dependencies](../docs-tap/tanzu-build-service/dependencies.hbs.md#full-dependencies).

- The Tanzu Build Service automatic dependency updater feature is removed in
  Tanzu Application Platform v1.5.0.
  This feature has been  deprecated since Tanzu Application Platform v1.2.

---

### <a id='1-5-0-security-fixes'></a> Security fixes

This release has the following security fixes, listed by area and component.

<table>
  <tr>
  <th>Package Name</th>
  <th>Vulnerabilities Resolved</th>
  </tr>
  <tr>
  <td>buildservice.tanzu.vmware.com</td>
  <td><ul><li>GHSA-fxg5-wq6x-vr4w</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0179">CVE-2023-0179</a></li></ul></td>
  </tr>
  <tr>
  <td>carbonblack.scanning.apps.tanzu.vmware.com</td>
  <td><ul><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-24827">CVE-2023-24827</a></li></ul></td>
  </tr>
  <tr>
  <td>eventing.tanzu.vmware.com</td>
  <td><ul><li> GHSA-fxg5-wq6x-vr4w</li><li>GHSA-69cg-p879-7622</li><li>GHSA-69ch-w2m2-3vjp </li></ul></td>
  </tr>
  <tr>
  <td>grype.scanning.apps.tanzu.vmware.com</td>
  <td><ul><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-24329">CVE-2023-24329</a></li></ul></td>
  </tr>
  <tr>
  <td>learningcenter.tanzu.vmware.com</td>
  <td><ul><li>GHSA-fxg5-wq6x-vr4w</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0461">CVE-2023-0461</a></li><li>GHSA-3vm4-22fp-5rfm</li><li>GHSA-69ch-w2m2-3vjp</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-24329">CVE-2023-24329</a></li><li>GHSA-83g2-8m93-v3w7</li><li>GHSA-ppp9-7jff-5vj2</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0286">CVE-2023-0286</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-23919">CVE-2023-23919</a></li><li>GHSA-2hrw-hx67-34x6</li><li>GHSA-x4qr-2fvf-3mr5</li></ul></td>
  </tr>
  <tr>
  <td>policy.apps.tanzu.vmware.com</td>
  <td><ul><li>GHSA-fxg5-wq6x-vr4w</li></ul></td>
  </tr>
  <tr>
  <td>snyk.scanning.apps.tanzu.vmware.com</td>
  <td><ul><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-24329">CVE-2023-24329</a></li></ul></td>
  </tr>
  <tr>
  <td>tap-gui.tanzu.vmware.com</td>
  <td><ul><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0286">CVE-2023-0286</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-23918">CVE-2023-23918</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-23919">CVE-2023-23919</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0361">CVE-2023-0361</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2022-4450">CVE-2022-4450</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0215">CVE-2023-0215</a></li></ul></td>
  </tr>
  <tr>
  <td>workshops.learningcenter.tanzu.vmware.com</td>
  <td><ul><li> GHSA-fxg5-wq6x-vr4w</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0461">CVE-2023-0461</a></li><li>GHSA-3vm4-22fp-5rfm</li><li>GHSA-69ch-w2m2-3vjp</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-24329">CVE-2023-24329</a></li><li>GHSA-83g2-8m93-v3w7</li><li>GHSA-ppp9-7jff-5vj2</li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-0286">CVE-2023-0286</a></li><li><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-23919">CVE-2023-23919</a></li></ul></td>
  </tr>
</table>

Note about CVE-2023-0179, CVE-2023-1281 and CVE-2023-0461: 

CVE-2023-0179, CVE-2023-1281 and CVE-2023-0461 are high severity vulnerabilities. At this time, there is no available patch for them upstream on some of our components. Once there is a patch available, Tanzu Application Platform will release a patched base stack image.

It is important for customers to understand CVE-2023-0179, CVE-2023-1281 and CVE-2023-0461 are kernel exploits, and the kernel runs on the customers’ container host VM, not the Tanzu Application Platform container image. Running on an up to date kernel is a mitigation for this vulnerability.

---

### <a id='1-5-0-resolved-issues'></a> Resolved issues

The following issues, listed by area and component, are resolved in this release.

#### <a id='1-5-0-app-acc-ri'></a> Application Accelerator

- Resolved issue with `custom types` not re-ordering fields correctly in the VS Code extension.

#### <a id='1-5-0-app-sso-ri'></a> Application Single Sign-On (AppSSO)

- Resolved redirect URI issue with insecure HTTP redirection on Tanzu Kubernetes Grid multicloud
(TKGm) clusters.

#### <a id="1-5-0-namespace-provisioner-ri"></a> Namespace Provisioner

- Updated default resources to avoid ownership conflicts with the `grype` package.

#### <a id="1-5-0-tap-gui-plug-in-ri"></a>Tanzu Application Platform GUI plug-ins

- **App Accelerator Plug-in:**

   - Fixed JSON schema for Git repository creation.
   - Added missing query string parameters to accelerator provenance.

- **Supply Chain Plug-in:**

   - Fixed CPU stats in App Live View Steeltoe Threads and Memory pages.
   - The App Live View Details page now shows the correct boot version instead of **UNKNOWN**.
   - Fixed request parameters for the post-API call.
   - Fixed the UI error in the ALV request-mapping page that was caused by an unused style.
   - Fixed the ALV Request Mappings and Threads page to support Boot 3 apps.

#### <a id="1-5-apps-plugin-ri"></a> Tanzu CLI Apps plug-in

- Allow users to pass only `--git-commit` as Git the ref while creating a workload from a Git Repository.
  This update removes the limitation where users had to provide a `--git-tag` or `--git-branch` along with the commit to create a workload.

- Fixed the behavior where `subpath` was getting removed from the workload when there are updates
  to the Git section of the workload source specification.

#### <a id="1-5-intellij-ext-ri"></a> Tanzu Developer Tools for IntelliJ

- When there are multiple resource types with the same kind, the pop-up menu **Describe** action in
  the Activity panel no longer fails when used on PodIntent resources.

---

### <a id='1-5-0-known-issues'></a> Known issues

This release has the following known issues, listed by area and component.

#### <a id='1-5-0-bitnami-services-ki'></a> Bitnami Services

- If you try to configure private registry integration for the Bitnami services
  after having already created a claim for one or more of the Bitnami services using the default
  configuration, the updated private registry configuration does not appear to take effect.
  This is due to caching behavior in the system which is not accounted for during configuration updates.
  For a workaround, see [Troubleshooting and limitations](services-toolkit/how-to-guides/troubleshooting.hbs.md).

#### <a id='1-5-0-cnrs-ki'></a> Cloud Native Runtimes

- When using auto-tls, which is on by default, DomainMapping resources must have names that are less than 63
  characters. Otherwise, the DomainMapping fails to become ready due to `CertificateNotReady`.

#### <a id='1-5-0-eventing-ki'></a> Eventing

- When using vSphere sources in Eventing, the vsphere-source is currently using a high number of
  informers to alleviate load on the API server. This causes high memory utilization.

#### <a id="1-5-0-external-secrets-ki"></a> External Secrets CLI (beta)

- The external-secrets plug-in creating the `ExternalSecret` and `SecretStore` resources through stdin
  incorrectly confirms resource creation. Use `-f ` to create resources using a file instead of stdin.

#### <a id="1-5-0-grype-scan-ki"></a> Grype scanner

- **Scanning Java source code that uses Gradle package manager might not reveal
  vulnerabilities:**

  For most languages, source code scanning only scans files present in the
  source code repository. Except for support added for Java projects using
  Maven, no network calls fetch dependencies. For languages using dependency
  lock files, such as golang and Node.js, Grype uses the lock files to verify
  dependencies for vulnerabilities.

  For Java using Gradle, dependency lock files are not guaranteed, so Grype uses
  dependencies present in the built binaries, such as `.jar` or `.war` files.

  Grype fails to find vulnerabilities during a source scan because VMware
  discourages committing binaries to source code repositories. The
  vulnerabilities are still found during the image scan after the binaries are
  built and packaged as images.

#### <a id='1-5-0-scc-ki'></a> Supply Chain Choreographer

- When using the Carvel Package Supply Chains, if the operator updates the parameter `carvel_package.
  name_suffix`, existing workloads incorrectly output a Carvel package to the GitOps repository that uses
  the old value of `carvel_package.name_suffix`. You can ignore or delete this package.

#### <a id='1-5-0-tap-gui-ki'></a> Tanzu Application Platform GUI

- The portal might partially overlay text on the Security Banners customization at the bottom.

- The **Impacted Workloads** table is empty on the **CVE and Package Details** pages if the relevant CVE
  belongs to a workload that has only completed one type of vulnerability scan (either image or source).
  A fix is planned for Tanzu Application Platform GUI v1.5.1.

#### <a id="1-5-apps-plugin-ki"></a> Tanzu CLI Apps plug-in

- `tanzu apps workload apply` does not wait for the changes to be taken when the workload is updated
  using `--tail` or `--wait`. Instead it fails if the status before the changes shows an error.

#### <a id='1-5-0-intellij-plugin-ki'></a> Tanzu Developer Tools for IntelliJ

- The error `com.vdurmont.semver4j.SemverException: Invalid version (no major version)` is shown in the
  error logs when attempting to perform a workload action before installing the Tanzu CLI apps
  plug-in.

- The apply action prompts and stores the workload file path when using the action for the first time,
  but modifying it afterwards is not possible.
  If the workload file location changes, the user must delete the module's key-value entries
  prefixed with `com.tanzu` in the `PropertiesComponent` found in the project's `.idea/workspace.xml`
  file to delete the configuration. The next apply action run prompts for new values again.

- If you restart your computer while running Live Update without terminating the Tilt
  process beforehand, there is a lock that incorrectly shows that Live Update is still running and
  prevents it from starting again.
  To resolve this deleting the Tilt lock file. The default location is `~/.tilt-dev/config.lock`.

- On Windows, workload actions do not work when in a project with spaces in the name such as
  `my-app project`.
  For more information, see [Troubleshooting](intellij-extension/troubleshooting.hbs.md#projects-with-spaces).

- In the Tanzu Activity Panel, the `config-writer-pull-requester` of type `Runnable` is incorrectly
  categorized as **Unknown**. The correct category is **Supply Chain**.

#### <a id='1-5-0-vs-plugin-ki'></a> Tanzu Developer Tools for Visual Studio

- Clicking the red square Stop button in the Visual Studio top toolbar can cause a workload to fail.
  For more information, see [Troubleshooting](vs-extension/troubleshooting.hbs.md#stop-button).

#### <a id='1-5-0-vscode-plugin-ki'></a> Tanzu Developer Tools for Visual Studio Code

- If a user restarts their computer while running Live Update, without terminating the Tilt
  process beforehand, there is a lock that incorrectly shows that Live Update is still running and
  prevents it from starting again. Delete the Tilt lock file to resolve this.
  The default file location is `~/.tilt-dev/config.lock`.

- On Windows, workload commands don't work when in a project with spaces in the name, such as
  `my-app project`.
  For more information, see [Troubleshooting](vscode-extension/troubleshooting.hbs.md#projects-with-spaces).

- If your kubeconfig file `~/.kube/config` is malformed, you cannot apply a workload.
  You see an error message when you attempt to do so. To resolve this, fix the kubeconfig file.

- In the Tanzu Activity Panel, the `config-writer-pull-requester` of type `Runnable` is incorrectly
  categorized as **Unknown**. The correct category is **Supply Chain**.

---

#### <a id="1-5-0-api-auto-registration-known-issue"></a>API Auto Registration

- Users will not be able to update their APIs through API Auto Registration due to a bug on the ID used to retrieve APIs.
  This bug will log errors in the API Descriptor CRD with the following mention: "Unable to find API entity's uid within TAP GUI. Retrying the sync".

## <a id='1-5-deprecations'></a> Deprecations

The following features, listed by component, are deprecated.
Deprecated features will remain on this list until they are retired from Tanzu Application Platform.

### <a id="1-5-alv-deprecations"></a> Application Live View

- `appliveview_connnector.backend.sslDisabled` is deprecated and marked for removal in
  Tanzu Application Platform v1.7.0.
  For more information about the migration, see [Deprecate the sslDisabled key](app-live-view/install.hbs.md#deprecate-the-ssldisabled-key).

### <a id='1-5-app-sso-deprecations'></a> Application Single Sign-On (AppSSO)

- `ClientRegistration` resource `clientAuthenticationMethod` field values `post` and `basic` are
  deprecated and marked for removal in Tanzu Application Platform v1.7.0.
  Use `client_secret_post` and `client_secret_basic` instead.

- `AuthServer.spec.tls.disabled` is deprecated and marked for removal in Tanzu Application Platform v1.6.0.
  For more information about how to migrate to `AuthServer.spec.tls.deactivated`, see
  [Migration guides](app-sso/upgrades/index.md#migration-guides).

### <a id="1-5-0-stk-deprecations"></a> Services Toolkit

- The `tanzu services claims` CLI plug-in command is now deprecated. It is
  hidden from help text output, but continues to work until officially removed
  after the deprecation period. The new `tanzu services resource-claims` command
  provides the same function.

### <a id="1-5-scst-scan-deprecations"></a> Supply Chain Security Tools (SCST) - Scan

- The `docker` field and related sub-fields used in SCST -
  Scan are deprecated and marked for removal in Tanzu Application Platform
  1.7.0.

   The deprecation impacts the following components: Scan Controller, Grype Scanner, and Snyk Scanner.
   Carbon Black Scanner is not impacted.
   For information about the migration path, see
   [Troubleshooting](scst-scan/observing.hbs.md#unable-to-pull-scanner-controller-images).

### <a id="1-5-tbs-deprecations"></a> Tanzu Build Service

- The Ubuntu Bionic stack is deprecated: Ubuntu Bionic stops receiving support in April 2023.
  VMware recommends you migrate builds to Jammy stacks in advance.
  For how to migrate builds, see [Use Jammy stacks for a workload](tanzu-build-service/dependencies.md#using-jammy).

- The Cloud Native Buildpack Bill of Materials (CNB BOM) format is deprecated.
  VMware plans to deactivate this format by default in Tanzu Application Platform v1.5.0 and remove
  support in Tanzu Application Platform v1.6.0.
  To manually deactivate legacy CNB BOM support, see [Deactivate the CNB BOM format](tanzu-build-service/install-tbs.md#deactivate-cnb-bom).

### <a id="1-5-apps-plugin-deprecations"></a> Tanzu CLI Apps plug-in

- The default value for the
  [--update-strategy](./cli-plugins/apps/command-reference/workload_create_update_apply.hbs.md#update-strategy)
  flag will change from `merge` to `replace` in Tanzu Application Platform v1.7.0.

- The `tanzu apps workload update` command is deprecated and marked for removal
  in Tanzu Application Platform v1.6.0. Use the command `tanzu apps workload apply` instead.
